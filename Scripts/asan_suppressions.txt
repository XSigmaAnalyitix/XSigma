# AddressSanitizer Suppressions for XSigma
# ===========================================
# This file contains suppressions for AddressSanitizer to handle known false positives
# and issues in third-party libraries that cannot be easily fixed.
#
# Format: <error_type>:<pattern>
# Where error_type can be: leak, heap-buffer-overflow, stack-buffer-overflow, etc.
# Pattern can match function names, file paths, or library names.

# Third-party library suppressions
# ---------------------------------

# fmt library - suppress potential issues in formatting code
leak:*fmt*
heap-buffer-overflow:*fmt*

# loguru library - suppress logging-related issues
leak:*loguru*
heap-buffer-overflow:*loguru*

# Google Test - suppress test framework issues
leak:*gtest*
leak:*testing*

# cpuinfo library - suppress CPU detection issues
leak:*cpuinfo*

# mimalloc - suppress memory allocator issues
leak:*mimalloc*
heap-buffer-overflow:*mimalloc*

# Windows system libraries
# -------------------------

# Windows CRT and system DLLs
leak:*msvcrt*
leak:*kernel32*
leak:*ntdll*
leak:*user32*

# Suppress bad-free errors in Windows runtime libraries when using mimalloc
# This is a known issue when mixing custom allocators with system libraries
bad-free:*ucrtbased*
bad-free:*MSVCP140D*
bad-free:*msvcrt*

# LLVM/Clang runtime libraries
leak:*clang_rt*
leak:*compiler_rt*

# Known false positives
# ---------------------

# String operations that may trigger false positives
heap-buffer-overflow:*string*
heap-buffer-overflow:*memcpy*
heap-buffer-overflow:*memset*

# Template instantiation issues
heap-buffer-overflow:*std::*

# Example suppressions for common patterns:
# leak:MyClass::problematic_function
# heap-buffer-overflow:ThirdPartyLib::*
# stack-buffer-overflow:*/path/to/problematic/file.cpp

# Project-specific suppressions
# ------------------------------
# Add project-specific suppressions below as needed

# Suppress issues in experimental profiler code during development
leak:*experimental*profiler*

# Suppress issues in test code
leak:*Test*
heap-buffer-overflow:*Test*
